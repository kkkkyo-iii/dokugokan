<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{fragments/head :: head('検索結果')}"></head>

<body>
	<main>
		<div th:replace="~{fragments/header :: header}"></div>
		<div class="result-display">
			<h1>検索結果</h1>

			<div th:if="${not #lists.isEmpty(movies)}">
				<div th:each="movie : ${movies}">
					<div th:replace="~{fragments/movie_card :: card(${movie})}"></div>
				</div>
				<div th:if="${totalPages > 1}" class="pagination">

					<a th:if="${currentPage > 1}" th:href="@{/movies/result(query=${query}, page=${currentPage - 1})}"
						class="page-link">&laquo; 前へ</a>

					<span th:text="${currentPage} + ' / ' + ${totalPages}"></span>

					<a th:if="${currentPage < totalPages}"
						th:href="@{/movies/result(query=${query}, page=${currentPage + 1})}" class="page-link">次へ
						&raquo;</a>
				</div>
			</div>

			<div th:if="${#lists.isEmpty(movies)}" class="empty-state">
				<p>該当する映画は見つかりませんでした。</p>
				<p>キーワードを変えて、もう一度試してみてください。</p>
				<a th:href="@{/movies/search}" class="cta-button">検索画面に戻る</a>
			</div>
		</div>
		</div>

	</main>
	<div th:replace="~{fragments/footer :: footer}"></div>
</body>

</html>